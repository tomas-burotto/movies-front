(this["webpackJsonpmovies-front"]=this["webpackJsonpmovies-front"]||[]).push([[0],{130:function(e,a,t){e.exports=t(160)},135:function(e,a,t){},160:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),o=t.n(c),l=(t(135),t(14)),i=t(6),s=t.n(i),u=t(12),m=t(7),p=t(193),d=t(114),f=t(218),g=t(206),b=t(198),h=t(76),E=t.n(h),v=t(77),O=t.n(v),w=t(20),y=t.n(w),j="http://www.omdbapi.com";function x(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={params:{t:a,apikey:"4b6b042d"}},e.next=3,y.a.get(j+"/",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=t(13),S=t(3),N=t(195),I=t(197),T=t(199),A=t(200),B=t(201),P=t(204),L=t(72),G=t(71),z=t(105),W=t.n(z),D=t(100),R=t.n(D),U=t(205),_=t(162),J=t(104),M=t.n(J),V=t(103),Y=t.n(V),$=t(219),q=t(18),F="https://ilikeit-api.herokuapp.com";function H(e,a){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(s.a.mark((function e(a,t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:a}},r={imdbid:t.imdbId,name:t.Title,description:t.Plot,score:t.imdbRating,image:t.Poster,genre:t.Genre},e.next=4,y.a.post(F+"/desireds",r,n);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=t(216),X=t(207),Z=t(163),ee=t(214),ae=t(220),te=t(215),ne=t(208);function re(e,a,t,n){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(s.a.mark((function e(a,t,n,r){var c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{Authorization:a}},o={imdbid:t.imdbID,name:t.Title,description:t.Plot,score:n,image:t.Poster,genre:t.Genre,comment:r},e.next=4,y.a.post(F+"/watcheds",o,c);case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=Object(p.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:G.a[500]},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function le(e){var a=oe(),t=r.a.useState(!1),n=Object(m.a)(t,2),c=n[0],o=n[1],l=e.data,i=Object(q.c)((function(e){return e.auth})),p=r.a.useState(!1),d=Object(m.a)(p,2),f=d[0],h=d[1],E=r.a.useState(""),v=Object(m.a)(E,2),O=v[0],w=v[1],y=r.a.useState(0),j=Object(m.a)(y,2),x=j[0],k=j[1],G=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(i.currentToken,l);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(i.currentToken,l,x,O);case 2:e.sent,h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(N.a,{className:a.root},r.a.createElement(I.a,{action:r.a.createElement(b.a,{"aria-label":"settings"},r.a.createElement(R.a,null)),title:l.Title,subheader:"IMDB Score: "+l.imdbRating+"/10"}),r.a.createElement(T.a,{className:a.media,image:l.Poster,title:"Paella dish"}),r.a.createElement(A.a,null,r.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p"},l.Plot)),r.a.createElement(B.a,{disableSpacing:!0},r.a.createElement($.a,{title:"Agregar a Wish List"},r.a.createElement(b.a,{"aria-label":"add to favorites",onClick:G},r.a.createElement(Y.a,{title:"Agregar a vista"}))),r.a.createElement($.a,{title:"Agregar como visto"},r.a.createElement(b.a,{"aria-label":"share",onClick:function(){h(!0)}},r.a.createElement(M.a,null))),r.a.createElement(b.a,{className:Object(S.a)(a.expand,Object(C.a)({},a.expandOpen,c)),onClick:function(){o(!c)},"aria-expanded":c,"aria-label":"show more"},r.a.createElement(W.a,null))),r.a.createElement(P.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(A.a,null,r.a.createElement(U.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(_.a,null,"Director: ",l.Director),r.a.createElement(g.a,null),r.a.createElement(_.a,null,"Actores: ",l.Actors),r.a.createElement(_.a,null,"A\xf1o: ",l.Year),r.a.createElement(_.a,null,"Generos: ",l.Genre),r.a.createElement(_.a,null,"Pais: ",l.Country),r.a.createElement(_.a,null,"Tipo: ",l.Type))))),r.a.createElement(Q.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:f,onClose:function(){h(!1)},closeAfterTransition:!0,BackdropComponent:X.a,BackdropProps:{timeout:500}},r.a.createElement(Z.a,{in:f},r.a.createElement("div",{className:a.paper},r.a.createElement(ee.a,{id:"standard-multiline-flexible",label:"Agrega un comentario",multiline:!0,rowsMax:4,value:O,onChange:function(e){w(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(te.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p"},"Calificala"),r.a.createElement(ae.a,{name:"simple-controlled",value:x,onChange:function(e,a){k(a)}})),r.a.createElement(ne.a,{variant:"contained",size:"small",color:"primary",onClick:z},"Agregar")))))}function ie(e,a){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user:{email:a,password:t}},e.next=3,y.a.post(F+"/login",n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=Object(p.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),me=function(){var e=ue(),a=Object(n.useState)(""),t=Object(m.a)(a,2),c=t[0],o=t[1],l=Object(n.useState)(!1),i=Object(m.a)(l,2),p=(i[0],i[1]),h=Object(n.useState)(null),v=Object(m.a)(h,2),w=v[0],y=v[1],j=Object(q.c)((function(e){return e.auth})),k=function(){var e=Object(u.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,x(c);case 3:(t=e.sent).data.Title?(y(t.data),p(!1)):(y({error:"not found"}),p(!1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("center",null,r.a.createElement("div",{className:e.root},j.loggingIn&&r.a.createElement(d.a,{className:e.root},r.a.createElement(f.a,{className:e.input,placeholder:"Buscar pelicula o serie",inputProps:{"aria-label":"search google maps"},value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(b.a,{type:"submit",className:e.iconButton,onClick:k},r.a.createElement(E.a,null)),r.a.createElement(g.a,{className:e.divider,orientation:"vertical"}),r.a.createElement(b.a,{color:"primary",className:e.iconButton,"aria-label":"directions"},r.a.createElement(O.a,null))),!j.loggingIn&&r.a.createElement("h1",null,"Debes iniciar sesion!")),r.a.createElement("br",null),r.a.createElement("div",null,w&&r.a.createElement(le,{data:w})))},pe=function(e,a,t,n){return{type:"LOG_IN",payload:{accessToken:e,role:t,email:a,description:n}}},de=Object(p.a)({root:{minWidth:275,padding:"10%",alignItems:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:32},pos:{marginBottom:12},warningText:{color:"red"}}),fe=function(e){var a=de(),t=Object(q.b)(),c=e.history,o=Object(n.useState)(""),l=Object(m.a)(o,2),i=l[0],p=l[1],d=Object(n.useState)(""),f=Object(m.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(!1),E=Object(m.a)(h,2),v=E[0],O=E[1],w=Object(n.useState)(!1),y=Object(m.a)(w,2),j=y[0],x=y[1],k=function(){var e=Object(u.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,ie(i,g);case 3:(n=e.sent).data.id?(t(pe(n.headers.authorization,n.data.email,n.data.role,n.data.description)),c.push("/")):(x(!0),O(!1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:"container"},r.a.createElement(N.a,{className:a.root},r.a.createElement(A.a,null,r.a.createElement(L.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"Iniciar Sesion o ",r.a.createElement("a",{href:"/sign-up"},"crea una cuenta")),j&&r.a.createElement("p",{className:a.warningText},"Usuario y/o contrase\xf1a inv\xe1lida"),r.a.createElement(ee.a,{id:"standard-full-width",label:"Email",key:"email",onChange:function(e){return p(e.target.value)},style:{margin:8},placeholder:"correo",value:i,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement(ee.a,{id:"standard-full-width",label:"Contrasena",key:"password",onChange:function(e){return b(e.target.value)},style:{margin:8},value:g,fullWidth:!0,type:"password",margin:"normal",InputLabelProps:{shrink:!0}})),r.a.createElement(B.a,null,!v&&r.a.createElement(ne.a,{variant:"contained",size:"small",color:"primary",onClick:function(){k()}},"Ingresar"),v&&r.a.createElement(ne.a,{disabled:!0,onClick:function(){k()}},"Ingresar")))))},ge=t(50);function be(e,a){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user:{email:a,password:t}},e.next=3,y.a.post(F+"/signup",n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=Object(p.a)({root:{minWidth:275,padding:"10%",alignItems:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:32},pos:{marginBottom:12},warningText:{color:"red"}}),ve=function(e){var a=Ee(),t=(Object(q.b)(),e.match.params,e.history),c=Object(n.useState)(!1),o=Object(m.a)(c,2),l=o[0],i=o[1],p=Object(n.useState)(!0),d=Object(m.a)(p,2),f=d[0],g=d[1],b=Object(n.useState)(""),h=Object(m.a)(b,2),E=(h[0],h[1]),v=Object(n.useState)({email:"",password:"",password2:""}),O=Object(m.a)(v,2),w=O[0],y=O[1],j=function(){var e=Object(u.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,be(w.email,w.password);case 3:e.sent.data.id?t.push("/sign-in"):(g(!0),E("Email ya existe")),i(!1);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(e){var a=e.target,t=a.name,n=a.value;y(Object(ge.a)(Object(ge.a)({},w),{},Object(C.a)({},t,n)));var r=w.password===n,c=w.password2===n;w.password2&&w.password&&w.email&&(!r&&"password2"===t||!c&&"password"===t?(g(!0),E("Contrase\xf1as no coinciden")):g(!1))};return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:"container"},r.a.createElement(N.a,{className:a.root},r.a.createElement(A.a,null,r.a.createElement(L.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"Crear Usuario"),f&&r.a.createElement("p",{className:a.warningText},"Usuario y/o contrase\xf1a inv\xe1lida"),r.a.createElement(ee.a,{id:"standard-full-width",label:"Email",key:"email",name:"email",onChange:x,style:{margin:8},placeholder:"correo",value:w.email,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement(ee.a,{id:"standard-full-width",label:"Contrasena",key:"password",onChange:x,style:{margin:8},value:w.password,name:"password",fullWidth:!0,type:"password",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement(ee.a,{id:"standard-full-width",label:"Repetir Contrasena",key:"password2",onChange:x,style:{margin:8},value:w.password2,name:"password2",fullWidth:!0,type:"password",margin:"normal",InputLabelProps:{shrink:!0}})),r.a.createElement(B.a,null,!l&&r.a.createElement(ne.a,{variant:"contained",size:"small",color:"primary",onClick:function(){j()}},"Crear"),l&&r.a.createElement(ne.a,{disabled:!0,onClick:function(){j()}},"Crear")))))};function Oe(e){return we.apply(this,arguments)}function we(){return(we=Object(u.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:a}},e.next=3,y.a.get(F+"/user_watcheds",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=t(209),je=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},media:{height:0,paddingTop:"56.25%"}}})),xe=function(){var e=je(),a=Object(n.useState)([]),t=Object(m.a)(a,2),c=t[0],o=t[1],l=Object(q.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(l.currentToken);case 2:a=e.sent,o(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,l.loggingIn&&r.a.createElement(ye.a,{container:!0,spacing:3},c.map((function(a,t){return r.a.createElement(ye.a,{item:!0,xs:6,sm:3},r.a.createElement(N.a,{className:e.root},r.a.createElement(I.a,{action:r.a.createElement(b.a,{"aria-label":"settings"}),title:a.name,subheader:"Rate: "+a.score+"/5"}),r.a.createElement(T.a,{className:e.media,image:a.image,title:"Paella dish"}),r.a.createElement(A.a,null,r.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p"},a.description),r.a.createElement("br",null),r.a.createElement(g.a,null),r.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p"},a.comment))))}))),!l.loggingIn&&r.a.createElement("h1",null," Debes iniciar sesion "))},ke=t(210),Ce=t(211),Se=t(107),Ne=t.n(Se),Ie=t(212),Te=t(111);function Ae(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(u.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:a}},e.next=3,y.a.delete(F+"/logout",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Le=function(e){var a=Object(l.g)(),t=Pe(),c=Object(q.c)((function(e){return e.auth})),o=Object(n.useState)(null),i=Object(m.a)(o,2),p=i[0],d=i[1],f=Boolean(p),g=Object(q.b)(),h=function(){d(null)},E=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),e.next=3,Ae(c.currentToken);case 3:g({type:"LOG_OUT",payload:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t.root},r.a.createElement(ke.a,{position:"static"},r.a.createElement(Ce.a,null,r.a.createElement(L.a,{variant:"h6",className:t.title},r.a.createElement(ne.a,{color:"inherit",onClick:function(){a.push("/")}}," Buscar "),r.a.createElement(ne.a,{color:"inherit",onClick:function(){a.push("/watched")}}," Vistos "),r.a.createElement(ne.a,{color:"inherit",onClick:function(){a.push("/watch_list")}}," Watch List ")),c.loggingIn&&r.a.createElement("div",null,r.a.createElement(b.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit"},r.a.createElement(Ne.a,null)),r.a.createElement(Te.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:h},r.a.createElement(Ie.a,{onClick:h},c.currentEmail.split("@")[0]),r.a.createElement(Ie.a,{onClick:E}," cerrar sesi\xf3n "))),!c.loggingIn&&r.a.createElement(ne.a,{color:"inherit",onClick:function(){c.loggingIn?a.push("/sign-out"):a.push("/sign-in")}}," Iniciar Sesi\xf3n "))),r.a.createElement("br",null))},Ge=t(110),ze=t(213),We=Object(Ge.a)({palette:{type:"dark",primary:{main:"#ff4400"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"},tonalOffset:.2}});var De=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ze.a,{theme:We},r.a.createElement("div",{className:"App-bar"},r.a.createElement(Le,null)),r.a.createElement("div",{className:"App-intro"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:me}),r.a.createElement(l.b,{exact:!0,path:"/watched",component:xe}),r.a.createElement(l.b,{exact:!0,path:"/sign-in",component:fe}),r.a.createElement(l.b,{exact:!0,path:"/sign-up",component:ve}),r.a.createElement(l.a,{to:"/"})))))},Re=t(41),Ue=t(108),_e=t(109),Je={currentRole:null,currentToken:null,loggingIn:null,currentEmail:null,currentDescription:null};var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOG_IN":return{currentToken:a.payload.accessToken,currentUserRole:a.payload.role,loggingIn:!0,currentEmail:a.payload.email,currentDescription:a.payload.description};case"NO_LOGGING":return Object(ge.a)(Object(ge.a)({},e),{},{loggingIn:!0});case"LOG_OUT":return{currentToken:null,currentUserRole:null,loggingIn:!1,currentEmail:null,currentDescription:null};default:return e}},Ve=Object(Re.c)({auth:Me}),Ye=Object(_e.createLogger)();var $e=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return void console.log(a)}}(),qe=Object(Re.d)(Ve,$e,Object(Re.a)(Ue.a,Ye));qe.subscribe((function(){return function(e){try{var a=JSON.stringify(e);localStorage.setItem("state",a)}catch(t){console.log(t)}}(qe.getState())}));var Fe=qe;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=t(59);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q.a,{store:Fe},r.a.createElement(He.a,null,r.a.createElement(De,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[130,1,2]]]);
//# sourceMappingURL=main.9a709845.chunk.js.map